# SonarCloud 项目配置

# 项目基本信息
sonar.projectKey=zhiyue-ai
sonar.organization=your-organization
sonar.projectName=智阅AI - 智能阅卷系统
sonar.projectVersion=1.0.0

# 源代码路径
sonar.sources=src,backend
sonar.tests=src/test,e2e,backend/tests

# 排除文件
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/*.min.js,**/coverage/**,**/__pycache__/**,**/migrations/**
sonar.test.exclusions=**/node_modules/**,**/dist/**,**/build/**

# 前端配置
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.testExecutionReportPaths=test-results/sonar-report.xml

# 后端配置
sonar.python.coverage.reportPaths=backend/coverage.xml
sonar.python.xunit.reportPath=backend/test-results.xml

# 代码重复检测
sonar.cpd.exclusions=**/*.spec.ts,**/*.test.ts,**/*.spec.tsx,**/*.test.tsx,**/test_*.py

# 语言设置
sonar.sourceEncoding=UTF-8

# 质量门禁
sonar.qualitygate.wait=true

# 分支分析
sonar.branch.name=${GITHUB_REF_NAME}
sonar.pullrequest.key=${GITHUB_PR_NUMBER}
sonar.pullrequest.branch=${GITHUB_HEAD_REF}
sonar.pullrequest.base=${GITHUB_BASE_REF}